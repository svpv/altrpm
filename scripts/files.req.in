#!/bin/sh -efu

. @RPMCONFIGDIR@/functions

# reverse sort provides longest match
dirlist=$(set +f; grep -h ^/. @RPMCONFIGDIR@/*-files.req.list |sort -ur)

FilesReq()
{
	local f="$1" d=; shift
	for d in $dirlist; do
		d=${d%/}
		case "$f" in
			"${RPM_BUILD_ROOT-}$d"/*)
				echo "$d"
				return ;;
		esac
	done
}

ArgvFileAction FilesReq "$@"
